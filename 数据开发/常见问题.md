常见问题
===

Index
---

- [MapReduce中的数据倾斜](#MapReduce中的数据倾斜)
- [Reference](#Reference)


## MapReduce中的数据倾斜
- 表现<br/>
任务滞留在99%很长时间不懂，耗时增加

- 原因<br/>
数据分配不均匀，某一key的条数比其他key多很多，这条key所在的reduce节点所处理的数据量比其他节点大很多，从而导致某几个节点迟迟运行不完

- 解决方案
  - 参数调优<br/>
  set hive.map.aggr=true;    注：在map中做部分聚合操作
  set hive.groupby.skewindata=true;       注：数据倾斜时负载均衡，生成两个MRJob,第一个将Map输出结果随机分配到Reduce中做聚合，第二个对预处理的数据按照group by key 分配到 Reduce中，完成最终的聚合操作
  - 


## Reference
- [什么是数据倾斜?如何解决数据倾斜?](http://www.raincent.com/content-10-10885-1.html)
- [MapReduce如何解决数据倾斜？](https://www.zhihu.com/question/27593027)
